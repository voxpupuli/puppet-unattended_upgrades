# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

* [`unattended_upgrades`](#unattended_upgrades): Installs and configures unattended-upgrades.

### Data types

* [`Unattended_upgrades::Age`](#Unattended_upgrades--Age): Specifies the minimum and maximum age of packages to upgrade.
* [`Unattended_upgrades::Auto`](#Unattended_upgrades--Auto): Automatic upgrade options.
* [`Unattended_upgrades::Backup`](#Unattended_upgrades--Backup): Backup options.
* [`Unattended_upgrades::Mail`](#Unattended_upgrades--Mail): Mail notification options.
* [`Unattended_upgrades::Origin`](#Unattended_upgrades--Origin): Validate that the given input is accepted as an `Unattended-Upgrade::Origins-Pattern`.
* [`Unattended_upgrades::Upgradeable_packages`](#Unattended_upgrades--Upgradeable_packages): Options for upgradeable packages.

## Classes

### <a name="unattended_upgrades"></a>`unattended_upgrades`

This class installs and configures the unattended-upgrades package.

#### Parameters

The following parameters are available in the `unattended_upgrades` class:

* [`age`](#-unattended_upgrades--age)
* [`auto`](#-unattended_upgrades--auto)
* [`backup`](#-unattended_upgrades--backup)
* [`blacklist`](#-unattended_upgrades--blacklist)
* [`whitelist`](#-unattended_upgrades--whitelist)
* [`dl_limit`](#-unattended_upgrades--dl_limit)
* [`enable`](#-unattended_upgrades--enable)
* [`install_on_shutdown`](#-unattended_upgrades--install_on_shutdown)
* [`mail`](#-unattended_upgrades--mail)
* [`minimal_steps`](#-unattended_upgrades--minimal_steps)
* [`origins`](#-unattended_upgrades--origins)
* [`package_ensure`](#-unattended_upgrades--package_ensure)
* [`extra_origins`](#-unattended_upgrades--extra_origins)
* [`random_sleep`](#-unattended_upgrades--random_sleep)
* [`sender`](#-unattended_upgrades--sender)
* [`size`](#-unattended_upgrades--size)
* [`update`](#-unattended_upgrades--update)
* [`upgrade`](#-unattended_upgrades--upgrade)
* [`upgradeable_packages`](#-unattended_upgrades--upgradeable_packages)
* [`verbose`](#-unattended_upgrades--verbose)
* [`notify_update`](#-unattended_upgrades--notify_update)
* [`days`](#-unattended_upgrades--days)
* [`remove_unused_kernel`](#-unattended_upgrades--remove_unused_kernel)
* [`remove_new_unused_deps`](#-unattended_upgrades--remove_new_unused_deps)
* [`syslog_enable`](#-unattended_upgrades--syslog_enable)
* [`syslog_facility`](#-unattended_upgrades--syslog_facility)
* [`only_on_ac_power`](#-unattended_upgrades--only_on_ac_power)
* [`skip_updates_on_metered_connection`](#-unattended_upgrades--skip_updates_on_metered_connection)
* [`whitelist_strict`](#-unattended_upgrades--whitelist_strict)
* [`allow_downgrade`](#-unattended_upgrades--allow_downgrade)
* [`dpkg_options`](#-unattended_upgrades--dpkg_options)
* [`service_ensure`](#-unattended_upgrades--service_ensure)
* [`service_enable`](#-unattended_upgrades--service_enable)

##### <a name="-unattended_upgrades--age"></a>`age`

Data type: `Unattended_upgrades::Age`

See `Unattended_upgrades::Age` for details.

Default value: `{}`

##### <a name="-unattended_upgrades--auto"></a>`auto`

Data type: `Unattended_upgrades::Auto`

See `Unattended_upgrades::Auto` for details.

Default value: `{}`

##### <a name="-unattended_upgrades--backup"></a>`backup`

Data type: `Unattended_upgrades::Backup`

See `Unattended_upgrades::Backup` for details.

Default value: `{}`

##### <a name="-unattended_upgrades--blacklist"></a>`blacklist`

Data type: `Array[String[1]]`

Array of packages to blacklist from automatic upgrades.

Default value: `[]`

##### <a name="-unattended_upgrades--whitelist"></a>`whitelist`

Data type: `Array[String[1]]`

Array of packages to whitelist for automatic upgrades.

Default value: `[]`

##### <a name="-unattended_upgrades--dl_limit"></a>`dl_limit`

Data type: `Optional[Integer[0]]`

Limit the download speed in KB/s.

Default value: `undef`

##### <a name="-unattended_upgrades--enable"></a>`enable`

Data type: `Integer[0, 1]`

Enable unattended-upgrades.

Default value: `1`

##### <a name="-unattended_upgrades--install_on_shutdown"></a>`install_on_shutdown`

Data type: `Boolean`

Install upgrades on shutdown.

Default value: `false`

##### <a name="-unattended_upgrades--mail"></a>`mail`

Data type: `Unattended_upgrades::Mail`

See `Unattended_upgrades::Mail` for details.

Default value: `{}`

##### <a name="-unattended_upgrades--minimal_steps"></a>`minimal_steps`

Data type: `Boolean`

Split the upgrade process into minimal steps.

Default value: `true`

##### <a name="-unattended_upgrades--origins"></a>`origins`

Data type: `Array[Unattended_upgrades::Origin]`

Array of origins to allow automatic upgrades from.

Default value:

```puppet
[
    'origin=Debian,codename=${distro_codename},label=Debian', #lint:ignore:single_quote_string_with_variables
    'origin=Debian,codename=${distro_codename}-security,label=Debian-Security', #lint:ignore:single_quote_string_with_variables
  ]
```

##### <a name="-unattended_upgrades--package_ensure"></a>`package_ensure`

Data type: `String[1]`

Ensure for the unattended-upgrades package.

Default value: `installed`

##### <a name="-unattended_upgrades--extra_origins"></a>`extra_origins`

Data type: `Array[Unattended_upgrades::Origin]`

Array of extra origins to allow automatic upgrades from.

Default value: `[]`

##### <a name="-unattended_upgrades--random_sleep"></a>`random_sleep`

Data type: `Optional[Integer[0]]`

Maximum random sleep in seconds. This parameter is deprecated and will be removed in a future release.

Default value: `undef`

##### <a name="-unattended_upgrades--sender"></a>`sender`

Data type: `Optional[String]`

Email sender address.

Default value: `undef`

##### <a name="-unattended_upgrades--size"></a>`size`

Data type: `Integer[0]`

Maximum size of the download in MB.

Default value: `0`

##### <a name="-unattended_upgrades--update"></a>`update`

Data type: `Variant[Integer[0], Enum['always'], Pattern[/^\d+[smh]$/]]`

Run `apt-get update` automatically. Accepts an integer (number of days),
the string 'always', or a time interval with suffixes ('s' for seconds,
'm' for minutes, 'h' for hours).

Default value: `1`

##### <a name="-unattended_upgrades--upgrade"></a>`upgrade`

Data type: `Variant[Integer[0], Enum['always'], Pattern[/^\d+[smh]$/]]`

Run `apt-get upgrade` automatically. Accepts an integer (number of days),
the string 'always', or a time interval with suffixes ('s' for seconds,
'm' for minutes, 'h' for hours).

Default value: `1`

##### <a name="-unattended_upgrades--upgradeable_packages"></a>`upgradeable_packages`

Data type: `Unattended_upgrades::Upgradeable_packages`

See `Unattended_upgrades::Upgradeable_packages` for details.

Default value: `{}`

##### <a name="-unattended_upgrades--verbose"></a>`verbose`

Data type: `Integer[0]`

Enable verbose logging.

Default value: `0`

##### <a name="-unattended_upgrades--notify_update"></a>`notify_update`

Data type: `Boolean`

Notify on package updates.

Default value: `false`

##### <a name="-unattended_upgrades--days"></a>`days`

Data type: `Array[String[1]]`

Days of the week to run unattended-upgrades.

Default value: `[]`

##### <a name="-unattended_upgrades--remove_unused_kernel"></a>`remove_unused_kernel`

Data type: `Optional[Boolean]`

Remove unused kernel packages.

Default value: `undef`

##### <a name="-unattended_upgrades--remove_new_unused_deps"></a>`remove_new_unused_deps`

Data type: `Optional[Boolean]`

Remove new unused dependencies.

Default value: `undef`

##### <a name="-unattended_upgrades--syslog_enable"></a>`syslog_enable`

Data type: `Optional[Boolean]`

Enable syslog logging.

Default value: `undef`

##### <a name="-unattended_upgrades--syslog_facility"></a>`syslog_facility`

Data type: `Optional[String]`

Syslog facility to use.

Default value: `undef`

##### <a name="-unattended_upgrades--only_on_ac_power"></a>`only_on_ac_power`

Data type: `Optional[Boolean]`

Download and install upgrades only when on AC power.

Default value: `undef`

##### <a name="-unattended_upgrades--skip_updates_on_metered_connection"></a>`skip_updates_on_metered_connection`

Data type: `Optional[Boolean]`

Skip updates on metered connections.

Default value: `undef`

##### <a name="-unattended_upgrades--whitelist_strict"></a>`whitelist_strict`

Data type: `Optional[Boolean]`

Whether to apply the whitelist strictly.

Default value: `undef`

##### <a name="-unattended_upgrades--allow_downgrade"></a>`allow_downgrade`

Data type: `Optional[Boolean]`

Allow downgrades.

Default value: `undef`

##### <a name="-unattended_upgrades--dpkg_options"></a>`dpkg_options`

Data type: `Array[String[1]]`

Array of dpkg options.

Default value: `[]`

##### <a name="-unattended_upgrades--service_ensure"></a>`service_ensure`

Data type: `Enum['running', 'stopped']`

Specifies whether the service should be running.

Default value: `'running'`

##### <a name="-unattended_upgrades--service_enable"></a>`service_enable`

Data type: `Boolean`

Specifies whether the service should be enabled at boot.

Default value: `true`

## Data types

### <a name="Unattended_upgrades--Age"></a>`Unattended_upgrades::Age`

Specifies the minimum and maximum age of packages to upgrade.

Alias of

```puppet
Struct[{
    Optional['min'] => Integer[0],
    Optional['max'] => Integer[0],
  }]
```

#### Parameters

The following parameters are available in the `Unattended_upgrades::Age` data type:

* [`min`](#-Unattended_upgrades--Age--min)
* [`max`](#-Unattended_upgrades--Age--max)

##### <a name="-Unattended_upgrades--Age--min"></a>`min`

Minimum age of a package in days.

##### <a name="-Unattended_upgrades--Age--max"></a>`max`

Maximum age of a package in days.

### <a name="Unattended_upgrades--Auto"></a>`Unattended_upgrades::Auto`

Automatic upgrade options.

Alias of

```puppet
Struct[{
    Optional['clean']                => Variant[Integer[0], Enum['always']],
    Optional['fix_interrupted_dpkg'] => Boolean,
    Optional['reboot']               => Boolean,
    Optional['reboot_withusers']     => Boolean,
    Optional['reboot_time']          => String,
    Optional['remove']               => Boolean,
  }]
```

#### Parameters

The following parameters are available in the `Unattended_upgrades::Auto` data type:

* [`clean`](#-Unattended_upgrades--Auto--clean)
* [`fix_interrupted_dpkg`](#-Unattended_upgrades--Auto--fix_interrupted_dpkg)
* [`reboot`](#-Unattended_upgrades--Auto--reboot)
* [`reboot_withusers`](#-Unattended_upgrades--Auto--reboot_withusers)
* [`reboot_time`](#-Unattended_upgrades--Auto--reboot_time)
* [`remove`](#-Unattended_upgrades--Auto--remove)

##### <a name="-Unattended_upgrades--Auto--clean"></a>`clean`

Automatically remove unused dependency packages.

##### <a name="-Unattended_upgrades--Auto--fix_interrupted_dpkg"></a>`fix_interrupted_dpkg`

Try to fix dpkg interruptions.

##### <a name="-Unattended_upgrades--Auto--reboot"></a>`reboot`

Automatically reboot after an upgrade.

##### <a name="-Unattended_upgrades--Auto--reboot_withusers"></a>`reboot_withusers`

Reboot even if users are logged in.

##### <a name="-Unattended_upgrades--Auto--reboot_time"></a>`reboot_time`

Time to reboot.

##### <a name="-Unattended_upgrades--Auto--remove"></a>`remove`

Automatically remove unused new packages.

### <a name="Unattended_upgrades--Backup"></a>`Unattended_upgrades::Backup`

Backup options.

Alias of

```puppet
Struct[{
    Optional['archive_interval'] => Integer[0],
    Optional['level']            => Integer[0],
  }]
```

#### Parameters

The following parameters are available in the `Unattended_upgrades::Backup` data type:

* [`archive_interval`](#-Unattended_upgrades--Backup--archive_interval)
* [`level`](#-Unattended_upgrades--Backup--level)

##### <a name="-Unattended_upgrades--Backup--archive_interval"></a>`archive_interval`

Interval in days to backup the package archives.

##### <a name="-Unattended_upgrades--Backup--level"></a>`level`

Backup level.

### <a name="Unattended_upgrades--Mail"></a>`Unattended_upgrades::Mail`

Mail notification options.

Alias of

```puppet
Struct[{
    Optional['report']        => String,
    Optional['only_on_error'] => Boolean,
    Optional['to']            => String,
  }]
```

#### Parameters

The following parameters are available in the `Unattended_upgrades::Mail` data type:

* [`report`](#-Unattended_upgrades--Mail--report)
* [`only_on_error`](#-Unattended_upgrades--Mail--only_on_error)
* [`to`](#-Unattended_upgrades--Mail--to)

##### <a name="-Unattended_upgrades--Mail--report"></a>`report`

When to send an email report.

##### <a name="-Unattended_upgrades--Mail--only_on_error"></a>`only_on_error`

Send email only on error.

##### <a name="-Unattended_upgrades--Mail--to"></a>`to`

Email address to send reports to.

### <a name="Unattended_upgrades--Origin"></a>`Unattended_upgrades::Origin`

Validate that the given input is accepted as an `Unattended-Upgrade::Origins-Pattern`.

Alias of `Pattern[/^(origin|codename|label|site|suite|component|archive|[oalcn])=[^,]+(,(origin|codename|label|site|suite|component|archive|[oalcn])=[^,]+)*/]`

### <a name="Unattended_upgrades--Upgradeable_packages"></a>`Unattended_upgrades::Upgradeable_packages`

Options for upgradeable packages.

Alias of

```puppet
Struct[{
    Optional['download_only'] => Variant[Integer[0], Enum['always']],
    Optional['debdelta']      => Integer[0],
  }]
```

#### Parameters

The following parameters are available in the `Unattended_upgrades::Upgradeable_packages` data type:

* [`download_only`](#-Unattended_upgrades--Upgradeable_packages--download_only)
* [`debdelta`](#-Unattended_upgrades--Upgradeable_packages--debdelta)

##### <a name="-Unattended_upgrades--Upgradeable_packages--download_only"></a>`download_only`

Only download packages, do not install.

##### <a name="-Unattended_upgrades--Upgradeable_packages--debdelta"></a>`debdelta`

Use debdelta to download smaller delta files.

